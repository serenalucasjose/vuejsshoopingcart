webpackJsonp([1],{"9M+g":function(t,n){},EvdY:function(t,n){},FEs4:function(t,n,r){"use strict";n.a={data:function(){return{loading:!1}},computed:{products:function(){return this.$store.getters.availableProducts}},methods:{addProductToCart:function(t){this.$store.dispatch("addProductToCart",t)}},created:function(){var t=this;this.loading=!0,this.$store.dispatch("fetchProducts").then(function(){return t.loading=!1})}}},IcnI:function(t,n,r){"use strict";var e=r("//Fk"),c=r.n(e),i=r("/5sW"),o=r("NYxO"),a=r("S49b");i.default.use(o.a),n.a=new o.a.Store({state:{products:[],cart:[],checkoutStatus:null,checkoutMsg:""},getters:{availableProducts:function(t,n){return t.products.filter(function(t){return t.inventory>0})},cartProducts:function(t){return t.cart.map(function(n){var r=t.products.find(function(t){return t.id===n.id});return{title:r.title,price:r.price,quantity:n.quantity}})},cartTotal:function(t,n){return n.cartProducts.reduce(function(t,n){return t+=n.price*n.quantity},0)},checkoutMsg:function(t){return t.checkoutMsg}},actions:{checkout:function(t){var n=t.state,r=t.commit;return new c.a(function(t,e){a.a.buyProducts(n.cart,function(){r("emptyCart"),r("setChekoutStatus","success"),r("setCheckoutMsg","Your purchase was successful!"),t()},function(){r("setChekoutStatus","fail"),r("setCheckoutMsg","Oops! Something went wrong :("),e()})})},fetchProducts:function(t){var n=t.commit;return new c.a(function(t,r){a.a.getProducts(function(r){n("setProducts",r),t()})})},addProductToCart:function(t,n){if(n.inventory>0){var r=t.state.cart.find(function(t){return t.id===n.id});r?t.commit("incrementItemQuantity",r):t.commit("pushProductToCart",n.id),t.commit("decrementProductInventory",n)}}},mutations:{setProducts:function(t,n){t.products=n},pushProductToCart:function(t,n){t.cart.push({id:n,quantity:1})},incrementItemQuantity:function(t,n){n.quantity++},decrementProductInventory:function(t,n){n.inventory--},setChekoutStatus:function(t,n){t.checkoutStatus=n},emptyCart:function(t){t.cart=[]},setCheckoutMsg:function(t,n){t.checkoutMsg=n}}})},Jmt5:function(t,n){},Kc7K:function(t,n,r){"use strict";var e=function(){var t=this,n=t.$createElement,r=t._self._c||n;return r("div",{attrs:{id:"app"}},[r("section",{staticClass:"components-container"},[r("b-container",[r("b-row",{staticClass:"justify-content-md-center"},[r("ProductList"),t._v(" "),r("ShoppingCart")],1)],1)],1)])},c=[],i={render:e,staticRenderFns:c};n.a=i},M93x:function(t,n,r){"use strict";function e(t){r("EvdY")}var c=r("xJD8"),i=r("Kc7K"),o=r("VU/8"),a=e,s=o(c.a,i.a,!1,a,null,null);n.a=s.exports},NHnr:function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=r("/5sW"),c=r("M93x"),i=r("IcnI"),o=r("dvEi"),a=r("e6fC"),s=r.n(a),u=r("Jmt5"),d=(r.n(u),r("9M+g"));r.n(d);e.default.config.productionTip=!1,e.default.use(s.a),e.default.filter("currency",o.a),new e.default({el:"#app",store:i.a,render:function(t){return t(c.a)}})},S49b:function(t,n,r){"use strict";var e=[{id:1,title:"iPad 4 Mini",price:500.01,inventory:2,imageUrl:"https://http2.mlstatic.com/apple-ipad-97-wi-fi-2018-model-6th-generation-a1893-stock-D_NQ_NP_830368-MLA27550238087_062018-F.jpg"},{id:2,title:"H&M T-Shirt White",price:10.99,inventory:10,imageUrl:"https://i.ebayimg.com/00/s/NTQ0WDM4OA==/z/d9MAAOSwt5tZ0mZq/$_86.JPG"},{id:3,title:"Coldplay - Viva la vida CD",price:19.99,inventory:5,imageUrl:"https://www.vinyldestination.com.au/assets/full/4670909.jpg"}];n.a={getProducts:function(t){setTimeout(function(){return t(e)},1500)},buyProducts:function(t,n,r){setTimeout(function(){Math.random()>.5||navigator.userAgent.indexOf("PhantomJS")>-1?n():r()},100)}}},TFTN:function(t,n,r){"use strict";function e(t){r("iPHc")}var c=r("dxHS"),i=r("ci1T"),o=r("VU/8"),a=e,s=o(c.a,i.a,!1,a,"data-v-c4cb2684",null);n.a=s.exports},XTKr:function(t,n,r){"use strict";var e=function(){var t=this,n=t.$createElement,r=t._self._c||n;return r("div",{attrs:{id:"products-list"}},[r("b-card",{attrs:{"bg-variant":"dark","text-variant":"white",title:"Our Products"}}),t._v(" "),t.loading?r("div",{staticClass:"products-spinner d-flex justify-content-center align-items-center mb-3"},[r("b-spinner",{attrs:{variant:"primary",label:"Loading..."}})],1):r("ul",{staticClass:"products-list"},t._l(t.products,function(n){return r("li",{key:n.id},[r("b-card",{staticClass:"overflow-hidden product-card",staticStyle:{"max-width":"540px"},attrs:{"no-body":""}},[r("b-row",{attrs:{"no-gutters":""}},[r("b-col",{attrs:{md:"6"}},[r("b-card-img",{staticClass:"rounded-0",attrs:{src:n.imageUrl}})],1),t._v(" "),r("b-col",{attrs:{md:"6"}},[r("b-card-body",{attrs:{title:n.title}},[r("b-card-text",[t._v("\n                            Price: "+t._s(t._f("currency")(n.price))+"\n                            "),r("hr"),t._v("\n                            In Stock: "+t._s(n.inventory)+"\n                        ")]),t._v(" "),r("b-button",{attrs:{block:"",variant:"primary"},on:{click:function(r){return t.addProductToCart(n)}}},[t._v("Add to cart")])],1)],1)],1)],1)],1)}),0)],1)},c=[],i={render:e,staticRenderFns:c};n.a=i},ci1T:function(t,n,r){"use strict";var e=function(){var t=this,n=t.$createElement,r=t._self._c||n;return r("div",{attrs:{id:"shopping-cart"}},[r("b-card",{attrs:{"bg-variant":"dark","text-variant":"white",title:"My Cart"}}),t._v(" "),r("b-list-group",{staticClass:"cart-list"},[t._l(t.products,function(n){return r("b-list-group-item",{key:n.id},[t._v("\n            "+t._s(n.title)+" - "+t._s(t._f("currency")(n.price))+" - "+t._s(n.quantity)+"\n        ")])}),t._v(" "),r("b-list-group-item",{attrs:{active:""}},[t._v("Total: "+t._s(t._f("currency")(t.total)))])],2),t._v(" "),r("b-button",{attrs:{block:"",variant:"primary"},on:{click:function(n){return t.doCheckout()}}},[t._v("Checkout")]),t._v(" "),r("b-alert",{staticClass:"cart-alert",attrs:{show:t.$store.state.checkoutStatus,dismissible:"",variant:"success"===t.$store.state.checkoutStatus?"info":"danger"}},[r("p",[t._v(t._s(t.checkoutMsg))])])],1)},c=[],i={render:e,staticRenderFns:c};n.a=i},dvEi:function(t,n,r){"use strict";function e(t,n,r){if(t=parseFloat(t),!isFinite(t)||!t&&0!==t)return"";n=null!=n?n:"$",r=null!=r?r:2;var e=Math.abs(t).toFixed(r),i=r?e.slice(0,-1-r):e,o=i.length%3,a=o>0?i.slice(0,o)+(i.length>3?",":""):"",s=r?e.slice(-1-r):"";return(t<0?"-":"")+n+a+i.slice(o).replace(c,"$1,")+s}n.a=e;var c=/(\d{3})(?=\d)/g},dxHS:function(t,n,r){"use strict";n.a={computed:{products:function(){return this.$store.getters.cartProducts},total:function(){return this.$store.getters.cartTotal},checkoutMsg:function(){return this.$store.getters.checkoutMsg}},methods:{doCheckout:function(){this.$store.dispatch("checkout").then(function(){console.log("succes!")}).catch(function(t){console.log("error!")})}}}},iPHc:function(t,n){},vmgX:function(t,n,r){"use strict";function e(t){r("yoSb")}var c=r("FEs4"),i=r("XTKr"),o=r("VU/8"),a=e,s=o(c.a,i.a,!1,a,"data-v-79c6468c",null);n.a=s.exports},xJD8:function(t,n,r){"use strict";var e=r("vmgX"),c=r("TFTN");n.a={name:"app",components:{ProductList:e.a,ShoppingCart:c.a}}},yoSb:function(t,n){}},["NHnr"]);
//# sourceMappingURL=app.636ba53954988f9f6ab6.js.map